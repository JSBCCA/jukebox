songlist = [["Main Theme", "mario_theme", "Super Mario Bros."],
            ["Underground Theme", "underground", "Super Mario Bros."],
            ["Underwater Theme", "underwater", "Super Mario Bros."],
            ["Main Theme", "mario_64", "Super Mario 64"],
            // mario sunshine
            ["Gusty Garden Galaxy", "gusty", "Super Mario Galaxy"],
            // mario 3d world bowser carnival
            ["Luigi's Mansion Main Theme", "luigis_mansion", "Super Smash Bros. Brawl"],
            ["Rainbow Road", "rainbow", "Mario Kart 64"], // mk8 too
            ["Tick Tock Clock Remix", "tick_tock", "Mario Kart 8"],
            ["Beware the Forest Mushrooms", "forest", "Super Mario RPG"],
            ["Come On!", "come_on", "M&L: Superstar Saga"],
            ["Grand Finale", "grand", "M&L: Bowser's Inside Story"],
            ["Adventure's End", "end", "M&L: Dream Team"],
            // paper mario ttyd
            // super paper mario
            ["Big Top Bop", "big_top", "DK Country: Tropical Freeze"],
            ["Main Theme", "zelda_intro", "The Legend of Zelda"],
            ["The Dark World", "dark_world", "Zelda: A Link to the Past"],
            ["Title Theme", "title", "Zelda: Ocarina of Time"],
            ["Zelda's Lullaby", "lullaby", "Zelda: Ocarina of Time"],
            ["Song of Storms", "storms", "Zelda: Ocarina of Time"],
            ["Gerudo Valley", "gerudo", "Zelda: Ocarina of Time"],
            ["Song of Healing", "healing", "Zelda: Majora's Mask"],
            ["The Great Sea", "greatsea", "Zelda: The Wind Waker"],
            ["Dragon Roost Island", "dragonroost", "Zelda: The Wind Waker"],
            ["Hyrule Field", "hyrule_field", "Zelda: Twilight Princess"],
            ["Midna's Lament", "midna_lament", "Zelda: Twilight Princess"],
            ["Ballad of the Goddess", "ballad", "Zelda: Skyward Sword"],
            ["Skyloft", "skyloft", "Zelda: Skyward Sword"],
            ["Fi's Theme", "fi", "Zelda: Skyward Sword"],
            ["Main Theme", "breath_wild", "Zelda: Breath of the Wild"],
            ["Brinstar", "brinstar", "Metroid"],
            ["Green Greens", "greens", "Kirby's Dream Land"],
            ["King Dedede's Theme", "king_dedede", "Kirby Super Star"],
            ["Meta Knight's Revenge", "meta_knight", "Kirby Super Star"],
            ["Zero Two", "zerotwo", "Kirby 64: The Crystal Shards"],
            ["C-R-O-W-N-E-D", "crowned", "Kirby's Return to Dreamland"],
            ["Magnus's Theme", "magnus", "Kid Icarus Uprising"],
            ["Dark Pit's Theme", "dark_pit", "Kid Icarus Uprising"],
            ["Lightning Battle", "lightning", "Kid Icarus Uprising"],
            // melee FE theme
            ["Id (Purpose)", "purpose", "Fire Emblem Awakening"],
            // thorn in you roar
            ["Lost in Thoughts All Alone", "lost_thoughts", "Fire Emblem Fates"],
            // perplexing dreams
            // dark fall
            ["Splattack!", "splattack", "Splatoon"],
            // smash anything
            // pokemon anything
            ["Midday Majesty", "midday", "Chibi-Robo!"],
            ["Drake Redcrest Theme", "drake_redcrest", "Chibi-Robo!"],
            // teriyaki blues
            ["Gaur Plains", "gaur", "Xenoblade Chronicles"],
            // dmc anything
            ["Dr. Wily's Castle: Stage 1", "wily", "Mega Man 2"],
            ["Green Hill Zone", "green_hill", "Sonic the Hedgehog"],
            ["Emerald Hill Zone", "emerald", "Sonic the Hedgehog 2"],
            ["Chemical Plant Zone", "chemical", "Sonic the Hedgehog 2"],
            ["Casino Night Zone (1P)", "casino", "Sonic the Hedgehog 2"],
            ["Doomsday Zone", "doomsday", "Sonic 3 & Knuckles"],
            ["Open Your Heart", "perfect_chaos", "Sonic Adventure"],
            ["Escape from the City", "escape", "Sonic Adventure 2"],
            ["Live and Learn", "liveandlearn", "Sonic Adventure 2"],
            ["Sonic Heroes", "sonic_heroes", "Sonic Heroes"],
            ["What I'm Made Of", "made_of", "Sonic Heroes"],
            ["I am... All of Me", "i_am", "Shadow the Hedgehog"],
            ["Never Turn Back", "never_turn", "Shadow the Hedgehog"],
            ["Solaris Phase 2", "solaris", "Sonic the Hedgehog (2006)"],
            ["Perfect Dark Gaia Phase 2", "dark_gaia", "Sonic Unleashed"],
            ["Knight of the Wind", "wind", "Sonic and the Black Knight"],
            ["Crisis City Remix (Modern)", "crisis", "Sonic Generations"],
            ["Rooftop Run Remix (Modern)", "rooftop", "Sonic Generations"],
            ["Concept of Love", "concept", "Jet Set Radio Future"],
            ["Let's Dance, Boys!", "bayonetta", "Bayonetta"],
            ["Battle for Everyone's Souls", "persona3", "Persona 3"],
            // metal gear
            ["Simple and Clean", "simple", "Kingdom Hearts"],
            // opening, SimpleandClean orchestrated
            ["Traverse Town", "traverse", "Kingdom Hearts"], // 1.5
            ["Guardando nel Buio", "ansem", "Kingdom Hearts"], // 1.5
            ["Naminé", "namine", "Kingdom Hearts Re:CoM"],
            ["Lord of the Castle", "lord_of_castle", "Kingdom Hearts Re:CoM"],
            ["Dearly Beloved (KH2 Ver.)", "dearly_beloved2", "Kingdom Hearts 2"],
            ["Sanctuary", "sanctuary", "Kingdom Hearts 2"],
            // opening, Sanctuary orchestrated
            ["Roxas's Theme", "roxas", "Kingdom Hearts 2"],
            ["The 13th Struggle", "struggle", "Kingdom Hearts 2"],
            ["Sacred Moon", "sacred_moon", "Kingdom Hearts 2"],
            // bbs secret movie theme
            ["Xion's Theme", "xion", "Kingdom Hearts 358/2 Days"], // 1.5
            ["Vector to the Heavens", "vector", "Kingdom Hearts 358/2 Days"], // 1.5
            ["Riku Battle", "riku", "Kingdom Hearts 358/2 Days"],
            ["Dearly Beloved (BBS Ver.)", "dearly_beloved", "Kingdom Hearts Birth by Sleep"],
            ["Aqua's Theme", "aqua", "Kingdom Hearts Birth by Sleep"],
            // ventus
            // dismiss
            ["L'Impeto Oscuro", "young_x", "Kingdom Hearts 3D"],
            ["Ray of Hope Mix", "rayofhope", "Kingdom Hearts 0.2"],
            // mirror song 0.2
            // final boss 0.2
            // union x dearly beloved
            ["Opening", "ff7opening", "Final Fantasy VII"],
            ["Aerith's Theme", "aerith", "Final Fantasy VII"],
            ["One Winged Angel", "onewinged", "Final Fantasy VII"],
            ["Apocalypsis Aquarius", "aquarius", "Final Fantasy XV"],
            ["Somnus", "somnus", "Final Fantasy XV"],
            ["Skyrim Main Theme", "skyrim", "Elder Scrolls V: Skyrim"],
            // CoD anything
            ["Halo Main Theme", "halo", "Halo"],
            ["Mad World (Instrumental)", "madworld", "Gears of War 3"],
            ["Jingle Jangle Jingle", "jingle", "Fallout New Vegas"],
            ["Butcher Pete", "butcher_pete", "Fallout 3"],
            ["UN Owen Was Her?", "un_owen", "Touhou"],
            ["Necrofantasia", "necrof", "Touhou"],
            // PvZ Zomboss
            ["Still Alive", "still_alive", "Portal"],
            ["Your Best Friend", "best_friend", "Undertale"],
            ["Undertale", "undertale", "Undertale"],
            ["Heartache", "heartache", "Undertale"],
            ["sans.", "sans", "Undertale"],
            ["Snowdin Town", "snowdin", "Undertale"],
            ["Bonetrousle", "bonetrousle", "Undertale"],
            // spear of justice
            // alphys
            // metal crusher
            ["Another Medium", "medium", "Undertale"],
            ["Spider Dance", "spider_dance", "Undertale"],
            ["The Core", "core", "Undertale"],
            ["Death by Glamour", "death_by_glamour", "Undertale"],
            ["Bergentrückung / ASGORE", "asgore", "Undertale"],
            // finale
            ["Hopes and Dreams", "hopes_and_dreams", "Undertale"],
            ["SAVE the World", "save_world", "Undertale"],
            ["His Theme", "his_theme", "Undertale"],
            ["Battle Against a True Hero", "battle_against", "Undertale"],
            ["Megalovania", "megalovania", "Undertale"],
            ["Strike the Earth!", "strike_earth", "Shovel Knight"],
            // vvvvvv
            ["Hot Damned", "meatboy", "Super Meat Boy"],
            ["Tower of Heaven", "tower_heaven", "Super Smash Land"],
            ["Last Battle", "cave_story", "Cave Story"],
            // crypt of the necrodancer
            ["Hexagon", "hexagon", "Super Hexagon"],
            ["The End", "the_end", "Drawn to Life"],
            ["Real Life", "real_life", "DtL: The Next Chapter"],
            // ducktales the moon
            // ducktales the moon remastered
            ["Main Theme", "batman", "Batman Arkham City"],
            // joker carnival
            ["Opening", "budokai", "DBZ: Budokai 3"],
            ["Super Survivor (Instrumental)", "super_survivor", "DBZ: Budokai Tenkaichi 3"]]



var current_item = 0;
var placehold = null;

// changing track
function change_track(song_info) {
  $("#title").text(song_info[2]);
  $("#music").text(song_info[0]);
  if (audio.duration === 0 || audio.paused) {
    $("#songsource").attr("src", "song/" + song_info[1] + ".mp3");
    audio.load();
  };
};

// changing pause to play
function pauseplay() {
  if (audio.duration > 0 && current_item === placehold && !audio.paused) {
    $('#pause').css('display', 'inline-block');
    $('#play').css('display', 'none');
  }
  else {
    $('#pause').css('display', 'none');
    $('#play').css('display', 'inline-block');
  };
};

// moving right
$("#buttonright").on("click", function() {
    current_item = (current_item + 1) % songlist.length;
    change_track(songlist[current_item]);
    pauseplay();
});

// moving right between games
$("#buttonright2").on("click", function() {
    game = songlist[current_item][2];
    current_item = (current_item + 1) % songlist.length;
    while (songlist[current_item][2] === game) {
      current_item = (current_item + 1) % songlist.length;
    };
    change_track(songlist[current_item]);
    pauseplay();
});

// moving left
$("#buttonleft").on("click", function() {
    current_item = (current_item - 1);
    if (current_item < 0) {current_item = songlist.length - 1;};
    change_track(songlist[current_item]);
    pauseplay();
});

// moving left between games
$("#buttonleft2").on("click", function() {
    game = songlist[current_item][2];
    current_item = (current_item - 1);
    if (current_item < 0) {current_item = songlist.length - 1;};
    while (songlist[current_item][2] === game) {
      current_item = (current_item - 1);
      if (current_item < 0) {current_item = songlist.length - 1;};
    };
    change_track(songlist[current_item]);
    pauseplay();
});

// playing
$("#play").on("click", function() {
    if (audio.duration > 0 && !audio.paused) {
      audio.pause();
      $("#songsource").attr("src", "song/" + songlist[current_item][1] + ".mp3");
      audio.load();
    }
    placehold = current_item;
    audio.play();
    $('#play').css('display', 'none');
    $('#pause').css('display', 'inline-block');
});

// pausing
$("#pause").on("click", function() {
    audio.pause();
    pauseplay();
});

// loop switch
$('#loop_switch').on("click", function() {
  if (audio.loop === true) {
    audio.loop = false;
    $('#loop_switch').text("Loop Song: Off");
  }
  else if (audio.loop === false) {
    audio.loop = true;
    $('#loop_switch').text("Loop Song: On");
  }
});

// if loop is off and audio just ended
$('audio').on("ended", function() {
  if (audio.loop === false) {
    audio.duration = 0;
    current_item = (current_item + 1) % songlist.length;
    placehold = (placehold + 1) % songlist.length;
    change_track(songlist[placehold]);
    audio.play();
    pauseplay();
  };
});

// if loop is on and you're on the audio that is playing
$('audio').on("playing", function() {
  pauseplay();
});
